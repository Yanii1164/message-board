<!--
    TechAcademy_Lesson6
    課題：HTMLのアレンジ
    提出日時: 2015/08/20(木)
    提出者: 山根 祥
-->

<!--
<h1>Messages#index</h1>
<p>Find me in app/views/messages/index.html.erb</p>
-->
<div class="panel panel-default">
  <div class="panel-heading">
    メッセージ一覧
  </div>
  
  <div class="panel-body">
      <% @messages.each do |message| %>
      <span class="label label-info"><%= message.name %></span>
      <%= message.body %>
      (<%= link_to "edit" , edit_message_path(message) %>
       <%= link_to "destroy" , message , method: :delete, data: { confirm: '削除してもよろしいですか？' } %>
      )
      <br>
      <% end %>
  </div>
</div>

<% #部分テンプレートを読み込んでいる %>
<%= render 'form' %>

<%= form_for(Message.new) do |f| %>
    <% if @message.errors.present? %>
    <div class="alert alert-danger">
      <%= alert %>
      <ul>
        <% @message.errors.full_messages.each do |full_message| %>
          <li>
            <%= full_message %>
          </li>
        <% end %> 
      </ul>
    </div>
  <% end %>

  <div class="panel panel-default">
   <div class="panel-heading">
    ＊メッセージ入力
   </div>
  
    <br>  
    <p>&nbsp;<u>名前</u></p>
    &nbsp;<%= f.text_field :name %>
    <br><br>
  
    <p>&nbsp;<u>内容 ＜フォーム拡張可能＞</u></p>
    &nbsp;<%= f.text_area :body, cols: 100 %>
  
    <br>
    &nbsp;<%= f.submit class: "btn btn-sm btn-warning" %>
    <br><br>
    
  </div>
<% end %>
